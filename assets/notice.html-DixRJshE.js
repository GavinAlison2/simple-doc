import{_ as n,c as a,e as p,o as t}from"./app-DKrcH86L.js";const e={};function o(l,s){return t(),a("div",null,s[0]||(s[0]=[p(`<p>npm i --save-dev @types/express @types/cors ts-node typescript npm i -D typescript ts-node tslib @types/node sqlite3 jsonwebtoken bcryptjs npm i --save-dev @types/jsonwebtoken</p><p>npm uninstall express</p><p>npm install --global --production windows-build-tools@4.0.0</p><p>npm uninstall -g node-gyp npm install -g node-gyp</p><p>npm config set audit false npm install --no-audit npm install --no-audit --verbose</p><p>npm install bcrypt --build-from-source npm install bcryptjs --verbose</p><p>npm install node-gyp -g --verbose</p><p>npm install --legacy-peer-deps --verbose</p><h2 id="源码调试之npm-install" tabindex="-1"><a class="header-anchor" href="#源码调试之npm-install"><span><a href="https://juejin.cn/post/7074934981625118750" target="_blank" rel="noopener noreferrer">源码调试之npm install </a></span></a></h2><p>git bash tree -I node_modules .</p><p>npm uninstall typeorm npm install typeorm</p><p>npm run start</p><p>注意tsconfig.json的配置项</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 改成 es6</span></span>
<span class="line">        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span><span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 改成 commonjs</span></span>
<span class="line">        <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token comment">// &quot;sourceMap&quot;: true, // 生成相应的.map文件</span></span>
<span class="line">        <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析模块路径</span></span>
<span class="line">        <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 装饰器</span></span>
<span class="line">        <span class="token property">&quot;emitDecoratorMetadata&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//   装饰器元数据</span></span>
<span class="line">        <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;forceConsistent CasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 严格属性初始化</span></span>
<span class="line">        <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dom&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要的package.json的配置项</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node src/index.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon --watch &#39;src/**/*.ts&#39; --ignore &#39;src/**/*.spec.ts&#39; --exec &#39;ts-node&#39; src/index.ts&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// web框架</span></span>
<span class="line">        <span class="token property">&quot;cors&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.8.5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 跨域</span></span>
<span class="line">        <span class="token property">&quot;typeorm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.2.34&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ORM</span></span>
<span class="line">        <span class="token property">&quot;sqlite3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据库</span></span>
<span class="line">        <span class="token property">&quot;reflect-metadata&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.1.13&quot;</span> <span class="token comment">// 装饰器元数据</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;@types/express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.13&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 类型定义express</span></span>
<span class="line">        <span class="token property">&quot;@types/cors&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.8.10&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 跨域</span></span>
<span class="line">        <span class="token property">&quot;ts-node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.4.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 运行ts</span></span>
<span class="line">        <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.5.4&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 编译器ts</span></span>
<span class="line">        <span class="token property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.11.3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 类型定义</span></span>
<span class="line">        <span class="token property">&quot;nodemon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.15&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 监控文件变化并重启服务</span></span>
<span class="line">        <span class="token property">&quot;@types/jsonwebtoken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.5.5&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还需要在应用程序的入口文件中导入 <code>import &quot;reflect-metadata&quot;;</code> 才能使装饰器正常工作。</p><h2 id="typescript-入门教程" tabindex="-1"><a class="header-anchor" href="#typescript-入门教程"><span><a href="https://juejin.cn/post/6844903992550678535" target="_blank" rel="noopener noreferrer">TypeScript 入门教程</a></span></a></h2>`,18)]))}const i=n(e,[["render",o]]),r=JSON.parse('{"path":"/guide/Typescript/project/ts-vote-app/voting-system-backend/notice.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"源码调试之npm install","slug":"源码调试之npm-install","link":"#源码调试之npm-install","children":[]},{"level":2,"title":"TypeScript 入门教程","slug":"typescript-入门教程","link":"#typescript-入门教程","children":[]}],"git":{"updatedTime":1744909079000,"contributors":[{"name":"alice","username":"alice","email":"921757697@qq.com","commits":1,"url":"https://github.com/alice"}],"changelog":[{"hash":"f5aef0c6b8a7a6ad7c2a9cbcadaddcd7542e42ec","time":1744909079000,"email":"921757697@qq.com","author":"alice","message":"typescript"}]},"filePathRelative":"guide/Typescript/project/ts-vote-app/voting-system-backend/notice.md"}');export{i as comp,r as data};
