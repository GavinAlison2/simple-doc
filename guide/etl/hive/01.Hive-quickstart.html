<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/simple-doc/images/favicon.ico"><title>Hive 入门 | Blog</title><meta name="description" content="个人博客">
    <link rel="preload" href="/simple-doc/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/simple-doc/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/simple-doc/assets/app-CNZ6fT6P.js"><link rel="modulepreload" href="/simple-doc/assets/01.Hive-quickstart.html-Dd0W7zri.js">
    <link rel="prefetch" href="/simple-doc/assets/index.html-BQqcdGSn.js" as="script"><link rel="prefetch" href="/simple-doc/assets/bak-README.html-7l_WO_xe.js" as="script"><link rel="prefetch" href="/simple-doc/assets/get-started.html-BRmxrPlo.js" as="script"><link rel="prefetch" href="/simple-doc/assets/自媒体.html-DU3L_ag8.js" as="script"><link rel="prefetch" href="/simple-doc/assets/react-readme.html-JW3FkfKP.js" as="script"><link rel="prefetch" href="/simple-doc/assets/react-simple.html-CcbjVPq0.js" as="script"><link rel="prefetch" href="/simple-doc/assets/react1-do.html-C0ka4JPw.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-D8qWKWq0.js" as="script"><link rel="prefetch" href="/simple-doc/assets/min-project.html-BoDoux84.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-UT2FXh1E.js" as="script"><link rel="prefetch" href="/simple-doc/assets/ts-decorator.html-CG6W6TTV.js" as="script"><link rel="prefetch" href="/simple-doc/assets/ts-quick-start.html-CcgMXkAk.js" as="script"><link rel="prefetch" href="/simple-doc/assets/ts-readme-viavideo.html-CIgj6MnE.js" as="script"><link rel="prefetch" href="/simple-doc/assets/typescript-readme.html-BmBNgbP9.js" as="script"><link rel="prefetch" href="/simple-doc/assets/1.html-eV1Bfw2v.js" as="script"><link rel="prefetch" href="/simple-doc/assets/1-数据仓库工具箱-笔记.html-CXYYycgT.js" as="script"><link rel="prefetch" href="/simple-doc/assets/2-数据产品经理的工作笔记.html-CkTB0mTo.js" as="script"><link rel="prefetch" href="/simple-doc/assets/3-数据产品经理实战笔记.html-CPWL5hYJ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-DzLvFakR.js" as="script"><link rel="prefetch" href="/simple-doc/assets/产品经理岗位分析.html-1UJKMCYe.js" as="script"><link rel="prefetch" href="/simple-doc/assets/后端开发.html-Cx_oyNDa.js" as="script"><link rel="prefetch" href="/simple-doc/assets/001-let-var-const.html-Da8vRz7d.js" as="script"><link rel="prefetch" href="/simple-doc/assets/002-let.html-BrdfwWFk.js" as="script"><link rel="prefetch" href="/simple-doc/assets/003-constructor.html-BfcqA_m0.js" as="script"><link rel="prefetch" href="/simple-doc/assets/004-rest-arg.html-DuI5VOXk.js" as="script"><link rel="prefetch" href="/simple-doc/assets/005-extend-expression.html-K_f-qqY3.js" as="script"><link rel="prefetch" href="/simple-doc/assets/1-关键词.html-DYGSqdFO.js" as="script"><link rel="prefetch" href="/simple-doc/assets/array.html-BKngykLQ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/async-await.html-CHWuKYUK.js" as="script"><link rel="prefetch" href="/simple-doc/assets/closure.html-t4Fd_OTq.js" as="script"><link rel="prefetch" href="/simple-doc/assets/fun.html-GadsrwUp.js" as="script"><link rel="prefetch" href="/simple-doc/assets/promise.html-DURjaC5P.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BqCWW66d.js" as="script"><link rel="prefetch" href="/simple-doc/assets/regex.html-ebR3w3bt.js" as="script"><link rel="prefetch" href="/simple-doc/assets/string.html-t6ZZViI4.js" as="script"><link rel="prefetch" href="/simple-doc/assets/高阶函数.html-BXVNKiIx.js" as="script"><link rel="prefetch" href="/simple-doc/assets/bigdata-readme.html-CSjY7Hyt.js" as="script"><link rel="prefetch" href="/simple-doc/assets/hive-start.html-DoCrapjg.js" as="script"><link rel="prefetch" href="/simple-doc/assets/notice.html-BtGIy6kt.js" as="script"><link rel="prefetch" href="/simple-doc/assets/todo.html-CfARG53H.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-CGODjbwi.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BN_CqhIj.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BNWsGlzX.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-Cdsc2Lxi.js" as="script"><link rel="prefetch" href="/simple-doc/assets/tailwind-install.html-DtV94y75.js" as="script"><link rel="prefetch" href="/simple-doc/assets/tailwind-official.html-Cns2cwSC.js" as="script"><link rel="prefetch" href="/simple-doc/assets/tailwind-readme.html-DsjS_rQo.js" as="script"><link rel="prefetch" href="/simple-doc/assets/tailwind-todo.html-lfu8GKpO.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BGa9JsqP.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test1.html-0BOqRFjR.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test2.html-I2XzZ9pD.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test3.html-BN0eVx5b.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue-cli-command.html-CowLE6IM.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue-cli.html-DxRLuUnC.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue-crud.html-CpVZikcS.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue-router.html-CbTbXr0R.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue2-api.html-Dc_y1KPG.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue2-directive.html-Cb_yil_h.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue2-ops.html-BtpHbaks.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue2.html-DHOKGah5.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue3-component.html-Chf4FajO.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vue3.html-1v5c5Rhq.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vuex.html-BHBHvquZ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/worker.html-DP18Fq3T.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test1.html-BM898n9D.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test3.html-D1XSAxIK.js" as="script"><link rel="prefetch" href="/simple-doc/assets/test4.html-D4pX2Xx0.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vuepress-install.html-Cy4aI-_l.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-R8f7Ipgu.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-qyOWAQ-S.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BxaZIx_S.js" as="script"><link rel="prefetch" href="/simple-doc/assets/总结.html-CthVO2Yr.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-missJnKm.js" as="script"><link rel="prefetch" href="/simple-doc/assets/vote-do.html-B3ten7OJ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chapter1-hadoop-hdfs.html-B1JTKK2Z.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chapter2-hadoop-yarn.html-BMx0ZxG-.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chapter3-hadoop-install-for-window.html-DXoVk3B2.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chapter4-hadoop2.html-Cf14FanJ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-B0Q7olxU.js" as="script"><link rel="prefetch" href="/simple-doc/assets/02.Hive-ddl.html-Baeuc0o5.js" as="script"><link rel="prefetch" href="/simple-doc/assets/03.Hive-table.html-C6X32VKc.js" as="script"><link rel="prefetch" href="/simple-doc/assets/04.Hive-index-view.html-BuYlqAWc.js" as="script"><link rel="prefetch" href="/simple-doc/assets/05.Hive-dml.html-CmEkpoe8.js" as="script"><link rel="prefetch" href="/simple-doc/assets/06.Hive-multi-partition.html-E_wVMP-A.js" as="script"><link rel="prefetch" href="/simple-doc/assets/07.Hive-query.html-DqeXBbhT.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BHx8dvBK.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chapter5-hive.html-yFxxnDto.js" as="script"><link rel="prefetch" href="/simple-doc/assets/chaptere6-Hive简介及核心概念.html-GPD0i_S2.js" as="script"><link rel="prefetch" href="/simple-doc/assets/hive-数据倾斜.html-C2E-fr7F.js" as="script"><link rel="prefetch" href="/simple-doc/assets/hadoop-install.html-BxeF1Chb.js" as="script"><link rel="prefetch" href="/simple-doc/assets/hive-install.html-DYsaNfKD.js" as="script"><link rel="prefetch" href="/simple-doc/assets/01.rdd.html-dw9Ks02U.js" as="script"><link rel="prefetch" href="/simple-doc/assets/01.rdd2.html-fI7fpWXg.js" as="script"><link rel="prefetch" href="/simple-doc/assets/02.dataframe.html-BbsuokMQ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/03.dataset.html-8cwx2irg.js" as="script"><link rel="prefetch" href="/simple-doc/assets/06.graphx.html-Dw5S45H7.js" as="script"><link rel="prefetch" href="/simple-doc/assets/07.ml.html-CEYPcbk1.js" as="script"><link rel="prefetch" href="/simple-doc/assets/broadcast.html-BDxxwtN8.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-C6AV69M2.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-code-quick-start.html-8NYAJOx8.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-core.html-C4KC_nR3.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-core2.html-CwfUXHe1.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-executor.html-CsbJE8NH.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-introduce.html-CgcIKoZa.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-kafka.html-BZrmzLAQ.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-sql.html-D44dNCiO.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-streaming.html-Cb74j1E6.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-数据倾斜.html-CcHygChw.js" as="script"><link rel="prefetch" href="/simple-doc/assets/todo.html-BusRL2Ft.js" as="script"><link rel="prefetch" href="/simple-doc/assets/env.html-BuzziF6-.js" as="script"><link rel="prefetch" href="/simple-doc/assets/intro.html-BDW_5O85.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-BzYfftUE.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-JEL0ukf-.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-docker-install.html-BXaGuZ_-.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-shell-install.html-BM3HLuQD.js" as="script"><link rel="prefetch" href="/simple-doc/assets/spark-standalone-install.html-djDufSae.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-Q0FmHSl_.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-HBlgMq6_.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-D9x9mOFl.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-B4KghjfF.js" as="script"><link rel="prefetch" href="/simple-doc/assets/index.html-DNhPyigw.js" as="script"><link rel="prefetch" href="/simple-doc/assets/notice.html-CYzYFddG.js" as="script"><link rel="prefetch" href="/simple-doc/assets/todo.html-DZuctH_6.js" as="script"><link rel="prefetch" href="/simple-doc/assets/404.html-DLhbf6_M.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/simple-doc/"><img class="vp-site-logo" src="/simple-doc/images/logo.png" alt="Blog"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Blog</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/simple-doc/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/Typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--><!--]-->TypeScript<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/React/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Angular"><!--[--><!--[--><!--]--><!--]-->Angular<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Node.js"><!--[--><!--[--><!--]--><!--]-->Node.js<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="小程序"><!--[--><!--[--><!--]--><!--]-->小程序<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Flutter"><!--[--><!--[--><!--]--><!--]-->Flutter<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据开发"><span class="title">数据开发</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据开发"><span class="title">数据开发</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/datawarehouse/" aria-label="数据产品"><!--[--><!--[--><!--]--><!--]-->数据产品<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/simple-doc/guide/etl/bigdata-readme.html" aria-label="大数据"><!--[--><!--[--><!--]--><!--]-->大数据<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/simple-doc/guide/etl/hadoop/" aria-label="Hadoop"><!--[--><!--[--><!--]--><!--]-->Hadoop<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/simple-doc/guide/etl/hive/" aria-label="Hive"><!--[--><!--[--><!--]--><!--]-->Hive<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/simple-doc/guide/etl/spark/" aria-label="Spark"><!--[--><!--[--><!--]--><!--]-->Spark<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/mysql/" aria-label="MySQL"><!--[--><!--[--><!--]--><!--]-->MySQL<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Redis"><!--[--><!--[--><!--]--><!--]-->Redis<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Python"><!--[--><!--[--><!--]--><!--]-->Python<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Golang"><!--[--><!--[--><!--]--><!--]-->Golang<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/GavinAlison2" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/simple-doc/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/Typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--><!--]-->TypeScript<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/React/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Angular"><!--[--><!--[--><!--]--><!--]-->Angular<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Node.js"><!--[--><!--[--><!--]--><!--]-->Node.js<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="小程序"><!--[--><!--[--><!--]--><!--]-->小程序<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Flutter"><!--[--><!--[--><!--]--><!--]-->Flutter<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据开发"><span class="title">数据开发</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据开发"><span class="title">数据开发</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/datawarehouse/" aria-label="数据产品"><!--[--><!--[--><!--]--><!--]-->数据产品<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/simple-doc/guide/etl/bigdata-readme.html" aria-label="大数据"><!--[--><!--[--><!--]--><!--]-->大数据<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/simple-doc/guide/etl/hadoop/" aria-label="Hadoop"><!--[--><!--[--><!--]--><!--]-->Hadoop<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/simple-doc/guide/etl/hive/" aria-label="Hive"><!--[--><!--[--><!--]--><!--]-->Hive<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/simple-doc/guide/etl/spark/" aria-label="Spark"><!--[--><!--[--><!--]--><!--]-->Spark<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/guide/mysql/" aria-label="MySQL"><!--[--><!--[--><!--]--><!--]-->MySQL<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Redis"><!--[--><!--[--><!--]--><!--]-->Redis<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Python"><!--[--><!--[--><!--]--><!--]-->Python<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/simple-doc/pages/folder1/test1.html" aria-label="Golang"><!--[--><!--[--><!--]--><!--]-->Golang<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/GavinAlison2" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading active" href="/simple-doc/guide/etl/bigdata-readme.html" aria-label="大数据技术"><!--[--><!--[--><!--]--><!--]-->大数据技术<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hadoop/" aria-label="Hadoop"><!--[--><!--[--><!--]--><!--]-->Hadoop<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hadoop/chapter1-hadoop-hdfs.html" aria-label="HDFS"><!--[--><!--[--><!--]--><!--]-->HDFS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hadoop/chapter2-hadoop-yarn.html" aria-label="YARN"><!--[--><!--[--><!--]--><!--]-->YARN<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hadoop/chapter3-hadoop-install-for-window.html" aria-label="Hadoop 安装（Windows）"><!--[--><!--[--><!--]--><!--]-->Hadoop 安装（Windows）<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/simple-doc/guide/etl/hive/" aria-label="Hive"><!--[--><!--[--><!--]--><!--]-->Hive<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/simple-doc/guide/etl/hive/01.Hive-quickstart.html" aria-label="Hive 入门"><!--[--><!--[--><!--]--><!--]-->Hive 入门<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/02.Hive-ddl.html" aria-label="Hive 常用 DDL 操作"><!--[--><!--[--><!--]--><!--]-->Hive 常用 DDL 操作<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/03.Hive-table.html" aria-label="Hive 分区表和分桶表"><!--[--><!--[--><!--]--><!--]-->Hive 分区表和分桶表<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/04.Hive-index-view.html" aria-label="Hive 视图和索引"><!--[--><!--[--><!--]--><!--]-->Hive 视图和索引<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/05.Hive-dml.html" aria-label="Hive 常用 DML 操作"><!--[--><!--[--><!--]--><!--]-->Hive 常用 DML 操作<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/06.Hive-multi-partition.html" aria-label="Hive Partition 分区"><!--[--><!--[--><!--]--><!--]-->Hive Partition 分区<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/07.Hive-query.html" aria-label="Hive 数据查询详解"><!--[--><!--[--><!--]--><!--]-->Hive 数据查询详解<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/install/hive-install.html" aria-label="Hive Install"><!--[--><!--[--><!--]--><!--]-->Hive Install<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/simple-doc/guide/etl/hive/chapter5-hive.html" aria-label="Hive 面试题"><!--[--><!--[--><!--]--><!--]-->Hive 面试题<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="hive-入门" tabindex="-1"><a class="header-anchor" href="#hive-入门"><span>Hive 入门</span></a></h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>Hive 是一个构建在 Hadoop 之上的数据仓库，它可以将结构化的数据文件映射成表，并提供类 SQL 查询功能，用于查询的 SQL 语句会被转化为 MapReduce 作业，然后提交到 Hadoop 上运行。</p><p><strong>特点</strong>：</p><ol><li>简单、容易上手 (提供了类似 sql 的查询语言 hql)，使得精通 sql 但是不了解 Java 编程的人也能很好地进行大数据分析；</li><li>灵活性高，可以自定义用户函数 (UDF) 和存储格式；</li><li>为超大的数据集设计的计算和存储能力，集群扩展容易;</li><li>统一的元数据管理，可与 presto／impala／sparksql 等共享数据；</li><li>执行延迟高，不适合做数据的实时处理，但适合做海量数据的离线处理。</li></ol><h2 id="hive-的体系架构" tabindex="-1"><a class="header-anchor" href="#hive-的体系架构"><span>Hive 的体系架构</span></a></h2><p><img src="/simple-doc/assets/hive-type-C0SUvbNH.png" alt="hive-base"></p><h3 id="command-line-shell-thrift-jdbc" tabindex="-1"><a class="header-anchor" href="#command-line-shell-thrift-jdbc"><span>command-line shell &amp; thrift/jdbc</span></a></h3><p>可以用 command-line shell 和 thrift／jdbc 两种方式来操作数据：</p><ul><li><strong>command-line shell</strong>：通过 hive 命令行的的方式来操作数据；</li><li><strong>thrift／jdbc</strong>：通过 thrift 协议按照标准的 JDBC 的方式操作数据。</li></ul><h3 id="metastore" tabindex="-1"><a class="header-anchor" href="#metastore"><span>Metastore</span></a></h3><p>在 Hive 中，表名、表结构、字段名、字段类型、表的分隔符等统一被称为元数据。所有的元数据默认存储在 Hive 内置的 derby 数据库中，但由于 derby 只能有一个实例，也就是说不能有多个命令行客户端同时访问，所以在实际生产环境中，通常使用 MySQL 代替 derby。</p><p>Hive 进行的是统一的元数据管理，就是说你在 Hive 上创建了一张表，然后在 presto／impala／sparksql 中都是可以直接使用的，它们会从 Metastore 中获取统一的元数据信息，同样的你在 presto／impala／sparksql 中创建一张表，在 Hive 中也可以直接使用。</p><h3 id="hql-的执行流程" tabindex="-1"><a class="header-anchor" href="#hql-的执行流程"><span>HQL 的执行流程</span></a></h3><p>Hive 在执行一条 HQL 的时候，会经过以下步骤：</p><ol><li>语法解析：Antlr 定义 SQL 的语法规则，完成 SQL 词法，语法解析，将 SQL 转化为抽象 语法树 AST Tree；</li><li>语义解析：遍历 AST Tree，抽象出查询的基本组成单元 QueryBlock；</li><li>生成逻辑执行计划：遍历 QueryBlock，翻译为执行操作树 OperatorTree；</li><li>优化逻辑执行计划：逻辑层优化器进行 OperatorTree 变换，合并不必要的 ReduceSinkOperator，减少 shuffle 数据量；</li><li>生成物理执行计划：遍历 OperatorTree，翻译为 MapReduce 任务；</li><li>优化物理执行计划：物理层优化器进行 MapReduce 任务的变换，生成最终的执行计划。</li></ol><blockquote><p>关于 Hive SQL 的详细执行流程可以参考美团技术团队的文章：<a href="https://tech.meituan.com/2014/02/12/hive-sql-to-mapreduce.html" target="_blank" rel="noopener noreferrer">Hive SQL 的编译过程</a></p></blockquote><h2 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型"><span>数据类型</span></a></h2><h3 id="基本数据类型" tabindex="-1"><a class="header-anchor" href="#基本数据类型"><span>基本数据类型</span></a></h3><p>Hive 表中的列支持以下基本数据类型：</p><table><thead><tr><th>大类</th><th>类型</th></tr></thead><tbody><tr><td><strong>Integers（整型）</strong></td><td>TINYINT—1 字节的有符号整数 <br>SMALLINT—2 字节的有符号整数<br> INT—4 字节的有符号整数<br> BIGINT—8 字节的有符号整数</td></tr><tr><td><strong>Boolean（布尔型）</strong></td><td>BOOLEAN—TRUE/FALSE</td></tr><tr><td><strong>Floating point numbers（浮点型）</strong></td><td>FLOAT— 单精度浮点型 <br>DOUBLE—双精度浮点型</td></tr><tr><td><strong>Fixed point numbers（定点数）</strong></td><td>DECIMAL—用户自定义精度定点数，比如 DECIMAL(7,2)</td></tr><tr><td><strong>String types（字符串）</strong></td><td>STRING—指定字符集的字符序列<br> VARCHAR—具有最大长度限制的字符序列 <br>CHAR—固定长度的字符序列</td></tr><tr><td><strong>Date and time types（日期时间类型）</strong></td><td>TIMESTAMP — 时间戳 <br>TIMESTAMP WITH LOCAL TIME ZONE — 时间戳，纳秒精度<br> DATE—日期类型</td></tr><tr><td><strong>Binary types（二进制类型）</strong></td><td>BINARY—字节序列</td></tr></tbody></table><blockquote><p>TIMESTAMP 和 TIMESTAMP WITH LOCAL TIME ZONE 的区别如下：</p><ul><li><strong>TIMESTAMP WITH LOCAL TIME ZONE</strong>：用户提交时间给数据库时，会被转换成数据库所在的时区来保存。查询时则按照查询客户端的不同，转换为查询客户端所在时区的时间。</li><li><strong>TIMESTAMP</strong> ：提交什么时间就保存什么时间，查询时也不做任何转换。</li></ul></blockquote><h3 id="隐式转换" tabindex="-1"><a class="header-anchor" href="#隐式转换"><span>隐式转换</span></a></h3><p>Hive 中基本数据类型遵循以下的层次结构，按照这个层次结构，子类型到祖先类型允许隐式转换。例如 INT 类型的数据允许隐式转换为 BIGINT 类型。额外注意的是：按照类型层次结构允许将 STRING 类型隐式转换为 DOUBLE 类型。</p><p><img src="/simple-doc/assets/hive-type-C0SUvbNH.png" alt="2"></p><h3 id="复杂类型" tabindex="-1"><a class="header-anchor" href="#复杂类型"><span>复杂类型</span></a></h3><table><thead><tr><th>类型</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td><strong>STRUCT</strong></td><td>类似于对象，是字段的集合，字段的类型可以不同，可以使用 <code>名称.字段名</code> 方式进行访问</td><td>STRUCT (&#39;xiaoming&#39;, 12 , &#39;2018-12-12&#39;)</td></tr><tr><td><strong>MAP</strong></td><td>键值对的集合，可以使用 <code>名称[key]</code> 的方式访问对应的值</td><td>map(&#39;a&#39;, 1, &#39;b&#39;, 2)</td></tr><tr><td><strong>ARRAY</strong></td><td>数组是一组具有相同类型和名称的变量的集合，可以使用 <code>名称[index]</code> 访问对应的值</td><td>ARRAY(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;)</td></tr></tbody></table><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h3><p>如下给出一个基本数据类型和复杂数据类型的使用示例：</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students<span class="token punctuation">(</span></span>
<span class="line">  name      STRING<span class="token punctuation">,</span>   <span class="token comment">-- 姓名</span></span>
<span class="line">  age       <span class="token keyword">INT</span><span class="token punctuation">,</span>      <span class="token comment">-- 年龄</span></span>
<span class="line">  subject   ARRAY<span class="token operator">&lt;</span>STRING<span class="token operator">&gt;</span><span class="token punctuation">,</span>   <span class="token comment">--学科</span></span>
<span class="line">  score     MAP<span class="token operator">&lt;</span>STRING<span class="token punctuation">,</span><span class="token keyword">FLOAT</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>  <span class="token comment">--各个学科考试成绩</span></span>
<span class="line">  address   STRUCT<span class="token operator">&lt;</span>houseNumber:<span class="token keyword">int</span><span class="token punctuation">,</span> street:STRING<span class="token punctuation">,</span> city:STRING<span class="token punctuation">,</span> province：STRING<span class="token operator">&gt;</span>  <span class="token comment">--家庭居住地址</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">ROW</span> FORMAT DELIMITED <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&quot;\t&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="内容格式" tabindex="-1"><a class="header-anchor" href="#内容格式"><span>内容格式</span></a></h2><p>当数据存储在文本文件中，必须按照一定格式区别行和列，如使用逗号作为分隔符的 CSV 文件 (Comma-Separated Values) 或者使用制表符作为分隔值的 TSV 文件 (Tab-Separated Values)。但此时也存在一个缺点，就是正常的文件内容中也可能出现逗号或者制表符。</p><p>所以 Hive 默认使用了几个平时很少出现的字符，这些字符一般不会作为内容出现在文件中。Hive 默认的行和列分隔符如下表所示。</p><table><thead><tr><th>分隔符</th><th>描述</th></tr></thead><tbody><tr><td><strong>\n</strong></td><td>对于文本文件来说，每行是一条记录，所以可以使用换行符来分割记录</td></tr><tr><td><strong>^A (Ctrl+A)</strong></td><td>分割字段 (列)，在 CREATE TABLE 语句中也可以使用八进制编码 <code>\001</code> 来表示</td></tr><tr><td><strong>^B</strong></td><td>用于分割 ARRAY 或者 STRUCT 中的元素，或者用于 MAP 中键值对之间的分割，<br>在 CREATE TABLE 语句中也可以使用八进制编码 <code>\002</code> 表示</td></tr><tr><td><strong>^C</strong></td><td>用于 MAP 中键和值之间的分割，在 CREATE TABLE 语句中也可以使用八进制编码 <code>\003</code> 表示</td></tr></tbody></table><p>使用示例如下：</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> page_view<span class="token punctuation">(</span>viewTime <span class="token keyword">INT</span><span class="token punctuation">,</span> userid <span class="token keyword">BIGINT</span><span class="token punctuation">)</span></span>
<span class="line"> <span class="token keyword">ROW</span> FORMAT DELIMITED</span>
<span class="line">   <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\001&#39;</span></span>
<span class="line">   COLLECTION ITEMS <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\002&#39;</span></span>
<span class="line">   MAP <span class="token keyword">KEYS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\003&#39;</span></span>
<span class="line"> STORED <span class="token keyword">AS</span> SEQUENCEFILE<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="存储格式" tabindex="-1"><a class="header-anchor" href="#存储格式"><span>存储格式</span></a></h2><h3 id="支持的存储格式" tabindex="-1"><a class="header-anchor" href="#支持的存储格式"><span>支持的存储格式</span></a></h3><p>Hive 会在 HDFS 为每个数据库上创建一个目录，数据库中的表是该目录的子目录，表中的数据会以文件的形式存储在对应的表目录下。Hive 支持以下几种文件存储格式：</p><table><thead><tr><th>格式</th><th>说明</th></tr></thead><tbody><tr><td><strong>TextFile</strong></td><td>存储为纯文本文件。 这是 Hive 默认的文件存储格式。这种存储方式数据不做压缩，磁盘开销大，数据解析开销大。</td></tr><tr><td><strong>SequenceFile</strong></td><td>SequenceFile 是 Hadoop API 提供的一种二进制文件，它将数据以&lt;key,value&gt;的形式序列化到文件中。这种二进制文件内部使用 Hadoop 的标准的 Writable 接口实现序列化和反序列化。它与 Hadoop API 中的 MapFile 是互相兼容的。Hive 中的 SequenceFile 继承自 Hadoop API 的 SequenceFile，不过它的 key 为空，使用 value 存放实际的值，这样是为了避免 MR 在运行 map 阶段进行额外的排序操作。</td></tr><tr><td><strong>RCFile</strong></td><td>RCFile 文件格式是 FaceBook 开源的一种 Hive 的文件存储格式，首先将表分为几个行组，对每个行组内的数据按列存储，每一列的数据都是分开存储。</td></tr><tr><td><strong>ORC Files</strong></td><td>ORC 是在一定程度上扩展了 RCFile，是对 RCFile 的优化。</td></tr><tr><td><strong>Avro Files</strong></td><td>Avro 是一个数据序列化系统，设计用于支持大批量数据交换的应用。它的主要特点有：支持二进制序列化方式，可以便捷，快速地处理大量数据；动态语言友好，Avro 提供的机制使动态语言可以方便地处理 Avro 数据。</td></tr><tr><td><strong>Parquet</strong></td><td>Parquet 是基于 Dremel 的数据模型和算法实现的，面向分析型业务的列式存储格式。它通过按列进行高效压缩和特殊的编码技术，从而在降低存储空间的同时提高了 IO 效率。</td></tr></tbody></table><blockquote><p>以上压缩格式中 ORC 和 Parquet 的综合性能突出，使用较为广泛，推荐使用这两种格式。</p></blockquote><h3 id="指定存储格式" tabindex="-1"><a class="header-anchor" href="#指定存储格式"><span>指定存储格式</span></a></h3><p>通常在创建表的时候使用 <code>STORED AS</code> 参数指定：</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> page_view<span class="token punctuation">(</span>viewTime <span class="token keyword">INT</span><span class="token punctuation">,</span> userid <span class="token keyword">BIGINT</span><span class="token punctuation">)</span></span>
<span class="line"> <span class="token keyword">ROW</span> FORMAT DELIMITED</span>
<span class="line">   <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\001&#39;</span></span>
<span class="line">   COLLECTION ITEMS <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\002&#39;</span></span>
<span class="line">   MAP <span class="token keyword">KEYS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\003&#39;</span></span>
<span class="line"> STORED <span class="token keyword">AS</span> SEQUENCEFILE<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>各个存储文件类型指定方式如下：</p><ul><li>STORED AS TEXTFILE</li><li>STORED AS SEQUENCEFILE</li><li>STORED AS ORC</li><li>STORED AS PARQUET</li><li>STORED AS AVRO</li><li>STORED AS RCFILE</li></ul><h2 id="内部表和外部表" tabindex="-1"><a class="header-anchor" href="#内部表和外部表"><span>内部表和外部表</span></a></h2><p>内部表又叫做管理表 (Managed/Internal Table)，创建表时不做任何指定，默认创建的就是内部表。想要创建外部表 (External Table)，则需要使用 External 进行修饰。 内部表和外部表主要区别如下：</p><table><thead><tr><th></th><th>内部表</th><th>外部表</th></tr></thead><tbody><tr><td>数据存储位置</td><td>内部表数据存储的位置由 hive.metastore.warehouse.dir 参数指定，默认情况下表的数据存储在 HDFS 的 <code>/user/hive/warehouse/数据库名.db/表名/</code> 目录下</td><td>外部表数据的存储位置创建表时由 <code>Location</code> 参数指定；</td></tr><tr><td>导入数据</td><td>在导入数据到内部表，内部表将数据移动到自己的数据仓库目录下，数据的生命周期由 Hive 来进行管理</td><td>外部表不会将数据移动到自己的数据仓库目录下，只是在元数据中存储了数据的位置</td></tr><tr><td>删除表</td><td>删除元数据（metadata）和文件</td><td>只删除元数据（metadata）</td></tr></tbody></table><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/GettingStarted" target="_blank" rel="noopener noreferrer">Hive Getting Started</a></li><li><a href="https://tech.meituan.com/2014/02/12/hive-sql-to-mapreduce.html" target="_blank" rel="noopener noreferrer">Hive SQL 的编译过程</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL" target="_blank" rel="noopener noreferrer">LanguageManual DDL</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types" target="_blank" rel="noopener noreferrer">LanguageManual Types</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/Managed+vs.+External+Tables" target="_blank" rel="noopener noreferrer">Managed vs. External Tables</a></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-04-14T16:44:53.000Z" data-allow-mismatch>2025/4/14 16:44</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 921757697@qq.com">alice</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/simple-doc/guide/etl/hive/02.Hive-ddl.html" aria-label="Hive 常用 DDL 操作"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Hive 常用 DDL 操作</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/simple-doc/assets/app-CNZ6fT6P.js" defer></script>
  </body>
</html>
